<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google" content="notranslate" />

    <title>My Editor MJS</title>
    <link rel="shortcut icon" href="#" type="image/x-icon">

    <link rel="stylesheet" href="myeditor.css">
</head>

<style>
    body {
        margin: 10;
        padding: 10;
    }

    /*
     Need js for custom resize handle??? :
     https://spin.atomicobject.com/2019/11/21/creating-a-resizable-html-element
     */
    #editor {
        height: 90vh;
        resize: vertical;
        overflow: hidden;
        border: 1px solid silver;
    }
</style>

<body>
    <div id="buttons">
        <button type="button" onclick="printHTML()">Print HTML to dev console</button>|
        <button type="button" onclick="clearContent()">Clear content</button>|
    </div>
    <div id="editor"></div>
</body>

<script>"use strict";</script>

<script type="module">
    import ListRenderer from "./myeditor.mjs"

    const data = `
    <h2>Hello PromiseMirror</h2>
    <p>
        A ProseMirror document is based on a schema, which determines the
        kind of elements that may occur in it, and the relation they have to
        each other. This one is based on the basic schema, with lists and
        tables added. It allows the usual <strong>strong</strong>
        and <em>emphasized</em> text, <code>code font</code>,
        and <a href="http://marijnhaverbeke.nl">links</a>.
    </p>

    <p>
        <iframe video-type="youtube" src="https://player.vimeo.com/video/631653597" width="420" height="315" title="Youtube video" class="video"></iframe>
    </p>

    <p>
        <iframe video-type="youtube" src="https://youtube.com/embed/4TWR90KJl84" width="420" height="315" title="Youtube video" class="video"></iframe>
    </p>
    <p>
        <iframe video-type="youtube" src="https://www.dailymotion.com/embed/video/x7ydf9r" width="420" height="315" title="Youtube video" class="video"></iframe>
    </p>

    <p>This paragraph has<br>a hard break inside of it.</p>

    <table>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
        </tr>
    </table>
    `;

    const options = {
        uploadActionURI: "http://localhost:8864/upload",
        uploadAccessURI: "http://localhost:8864/files",
    }
    const editorEL = document.querySelector("#editor")
    const editor = new MyEditor(data, editorEL, options)

    function printHTML() { console.log(editor.getHTML()) }
    function clearContent() { editor.setHTML("") }

    window.printHTML = printHTML
    window.clearContent = clearContent

    document.addEventListener("DOMContentLoaded", async () => { })
</script>

</html>